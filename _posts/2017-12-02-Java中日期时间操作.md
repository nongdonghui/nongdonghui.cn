---
layout: post
title: Java中日期时间操作
categories: java
---

## {{ page.title }}

{{ page.date | date: "%Y.%-m.%-d" }} | <a href="/archive#{{ page.categories }}">{{ page.categories}}</a>

1.Java中一个指定日期加上指定天数得到新日期

```
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

public class Test {

	public static void main(String[] args) throws ParseException {
		SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd"); // 日期格式
		Date date = dateFormat.parse("2015-07-31"); // 指定日期
		Date newDate = addDate(date, 20); // 指定日期加上20天
		System.out.println(dateFormat.format(date));// 输出格式化后的日期
		System.out.println(dateFormat.format(newDate));
	}

	public static Date addDate(Date date, long day) throws ParseException {
		long time = date.getTime(); // 得到指定日期的毫秒数
		day = day * 24 * 60 * 60 * 1000; // 要加上的天数转换成毫秒数
		time += day; // 相加得到新的毫秒数
		return new Date(time); // 将毫秒数转换成日期
	}
}
```

2.java创建Timestamp的几种方式

```
Timestamp time1 = new Timestamp(System.currentTimeMillis());  
  
Timestamp time2 = new Timestamp(new Date().getTime());  
  
Timestamp time3 = new Timestamp(Calendar.getInstance().getTimeInMillis());  
  
//不建议使用  
Timestamp time4 = new Timestamp(2011-1900,11,11,11,11,11,0); 
```

3.Date.compareTo

```
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
  
public class Date_compareTo
{
    public static void main(String[] args) throws Exception {
        SimpleDateFormat formatter = new SimpleDateFormat("yyyy-MM-dd");
        Date date = formatter.parse("2015-12-30");
        Calendar cal = Calendar.getInstance();
        cal.clear();
        cal.set(2016, 0, 1);
        Date date2 = cal.getTime();
        int compareTo = date.compareTo(date2);
        System.out.println("compareTo : " + compareTo);
    }
}
```

4.获取某年某月的第一天和最后一天

```
public static String getFirstDayOfMonth(int year, int month) {
	Calendar cal = Calendar.getInstance();
	cal.set(Calendar.YEAR, year);
	cal.set(Calendar.MONTH, month - 1);
	cal.set(Calendar.DAY_OF_MONTH, cal.getMinimum(Calendar.DATE));
	return new SimpleDateFormat("yyyy-MM-dd").format(cal.getTime());
}

public static String getLastDayOfMonth(int year, int month) {
	Calendar cal = Calendar.getInstance();
	cal.set(Calendar.YEAR, year);
	cal.set(Calendar.MONTH, month - 1);
	cal.set(Calendar.DAY_OF_MONTH, cal.getActualMaximum(Calendar.DATE));
	return new SimpleDateFormat("yyyy-MM-dd").format(cal.getTime());
}

或者

/** 
 * 获取月份最后一天.
 * @param year
 * @param month
 * @return
 */
public static Date getLastDayOfMonth(int year, int month) {
	Calendar calendar = Calendar.getInstance();
	calendar.set(Calendar.YEAR, year);
	calendar.set(Calendar.MONTH, month);
	calendar.set(Calendar.DAY_OF_MONTH, 1);
	calendar.add(Calendar.DAY_OF_MONTH, -1);
	return calendar.getTime();
}

/**
 * 获取月份最后一天.
 * @param year
 * @param month
 * @return
 */
public static String getLastDayOfMonthStr(int year, int month) {
	SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
	return sdf.format(getLastDayOfMonth(year, month));
}
```

**更新列表：**

* 2017-12-20
获取某年某月的第一天和最后一天





**参考文章：**

* [Java中一个指定日期加上指定天数得到新日期][1]
* [java创建Timestamp的几种方式][2]
* [Date.compareTo][3]
* [Java获取某年某月的第一天和最后一天][4]
* [Java 如何获取指定某年 某月 某一周的 第一天 和最后一天][5]


[1]: http://blog.csdn.net/u012027874/article/details/47805885
[2]: http://vsp.iteye.com/blog/1253774
[3]: http://www.howsoftworks.net/javaapi/java.util/date_compareto.html
[4]: http://blog.csdn.net/sdzhangshulong/article/details/53897364
[5]: http://bbs.csdn.net/topics/370024103